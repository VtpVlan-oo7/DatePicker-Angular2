{"version":3,"sources":["GlobalService.ts"],"names":[],"mappings":"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","file":"GlobalService.js","sourcesContent":["import {Injectable} from '@angular/core';\nimport {Control} from '@angular/common';\nimport {Http, Response, RequestOptions, Headers, Request, RequestMethod} from '@angular/http';\nimport {RouteConfig, Router} from \"@angular/router-deprecated\";\nimport {Observable} from 'rxjs/Rx';\nimport 'rxjs/Rx';\nimport 'rxjs/add/operator/map'\n\ndeclare var jQuery: any;\ndeclare var toastr: any;\n\n@Injectable()\nexport class GlobalService {\n    public headers: Headers;\n    public requestoptions: RequestOptions;\n    public res: Response;\n\n    constructor(public http: Http, public router: Router) { }\n\n    public getRequsetOptions(url: string): RequestOptions {\n\t\tthis.headers = new Headers();\n\t\tthis.headers.append(\"Content-type\", \"application/json\");\n\t\tthis.headers.append(\"Authorization\", 'Bearer ' + localStorage.getItem('id_token'));\n\n\n        this.requestoptions = new RequestOptions({\n\t\t\tmethod: RequestMethod.Get,\n\t\t\turl: url,\n\t\t\theaders: this.headers\n\t\t});\n\n\t\treturn this.requestoptions;\n    }\n\n    public PostRequest(url: string, data: any): any {\n\n\t\tthis.headers = new Headers();\n\t\tthis.headers.append(\"Content-type\", \"application/json\");\n\t\tthis.headers.append(\"Authorization\", 'Bearer ' + localStorage.getItem('id_token'));\n\n\t\tthis.requestoptions = new RequestOptions({\n\t\t\tmethod: RequestMethod.Post,\n\t\t\turl: url,\n\t\t\theaders: this.headers,\n\t\t\tbody: JSON.stringify(data)\n\t\t})\n\n\t\treturn this.http.request(new Request(this.requestoptions))\n\t\t\t.map((res: Response) => {\n\t\t\t\tif (res.status === 201) {\n\t\t\t\t\treturn [{ status: res.status, json: res }]\n\t\t\t\t}\n\t\t\t\telse if (res.status === 205) {\n\t\t\t\t\treturn [{ status: res.status, json: res }]\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error: any) => {\n\t\t\t\tif (error.status === 500) {\n\t\t\t\t\treturn Observable.throw(new Error(error.status));\n\t\t\t\t}\n\t\t\t\telse if (error.status === 400) {\n\t\t\t\t\treturn Observable.throw(new Error(error.status));\n\t\t\t\t}\n\t\t\t\telse if (error.status === 409) {\n\t\t\t\t\treturn Observable.throw(new Error(error.status));\n\t\t\t\t}\n\t\t\t\telse if (error.status === 406) {\n\t\t\t\t\treturn Observable.throw(new Error(error.status));\n\t\t\t\t}\n\t\t\t\telse if (error.status === 404) {\n\t\t\t\t\treturn Observable.throw(new Error(error.status));\n\t\t\t\t}\n\t\t\t});\n\t}\n\n    public GetRequest(url: string): any {\n\n\t\treturn this.http.request(new Request(this.getRequsetOptions(url)))\n\t\t\t.map((res: Response) => {\n\t\t\t\tlet jsonObj: any;\n\t\t\t\tif (res.status === 204) {\n\t\t\t\t\tjsonObj = null;\n\t\t\t\t}\n\t\t\t\telse if (res.status === 500) {\n\t\t\t\t\tjsonObj = null;\n\t\t\t\t}\n\t\t\t\telse if (res.status !== 204) {\n\t\t\t\t\tjsonObj = res.json()\n\t\t\t\t}\n\t\t\t\treturn [{ status: res.status, json: jsonObj }]\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (error.status === 403) {\n\t\t\t\t\treturn Observable.throw(new Error(error.status));\n\t\t\t\t}\n\t\t\t\telse if (error.status === 400) {\n\t\t\t\t\treturn Observable.throw(new Error(error.status));\n\t\t\t\t}\n\t\t\t});\n\t}\n}"],"sourceRoot":"/source/"}